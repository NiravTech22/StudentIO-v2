# StudentIO Julia Backend Deployment Configuration

[app]
name = "studentio-julia-backend"
primary_region = "ewr"

[build]
image = "julia:1.9"
builder = "dockerfile"

[env]
PORT = "8080"
JULIA_PROJECT = "."
JULIA_DEPOT_PATH = "/opt/julia/depot"

[http_service]
internal_port = 8080
force_https = true
auto_stop_machines = true
auto_start_machines = true
min_machines_running = 0
processes = ["app"]

[[vm]]
cpu_kind = "shared"
cpus = 1
memory_mb = 1024

[experimental]
cmd = ["julia", "--project=.", "-e", "using StudentIO; StudentIO.start_server(host=\"0.0.0.0\", port=parse(Int, ENV[\"PORT\"]))"]
